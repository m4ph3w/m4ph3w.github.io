<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>大六壬・六爻・射覆・周易 | 专业计算平台</title>
  <meta name="description" content="专业的大六壬、六爻、射覆与周易查阅计算工具。所有运算基于用户输入，不做随机起卦。内置经典文献引用与详解。" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="nav">
    <div class="nav-inner wrap" style="padding-left:0;padding-right:0;">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="8" stroke="#c8b68f" stroke-width="2"/>
            <circle cx="12" cy="12" r="4" fill="#c8b68f"/>
          </svg>
        </div>
        <span>大六壬・六爻・射覆・周易</span>
      </div>
      <nav class="nav-links">
        <a href="#liuren">大六壬</a>
        <a href="#liuyao">六爻</a>
        <a href="#shefu">射覆</a>
        <a href="#zhouyi">周易</a>
        <a href="#gloss">术语</a>
        <a href="#resources">典籍</a>
      </nav>
      <div class="ctrls">
        <button class="btn" id="toggleTheme" aria-label="切换主题">☯︎</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div class="hero-card">
        <div class="tag">專業工具 · 經典文獻 · 詳細解析 · 不隨機</div>
        <h1>術數專業計算平台</h1>
        <p>
          本平台提供<strong>大六壬</strong>、<strong>六爻</strong>、<strong>射覆</strong>與<strong>周易查閱</strong>工具，
          所有計算<strong>僅依用戶輸入</strong>（日期、時間、卦爻），<u>不做任何隨機起卦</u>。
        </p>
        <div class="help">
          <h4>快速使用（白話）</h4>
          <ul>
            <li><strong>大六壬</strong>：輸入占時（必填）。計算日干支、時干支、十二地支盤與「教學版四課三傳」，據五行生克生成解讀。</li>
            <li><strong>六爻</strong>：逐爻選 6/7/8/9（老陰/少陽/少陰/老陽）。生成本卦、變卦、互卦與動爻位。</li>
            <li><strong>射覆</strong>：選上下卦與動爻，結合八卦類象、五行、爻位，推斷物品特徵。</li>
            <li><strong>周易</strong>：用六爻 / 上下卦 / 直接選卦三法查閱卦象（非起卦）。</li>
          </ul>
        </div>
        <p class="scroll-hint">↓ 向下滾動開始使用</p>
      </div>
      <div class="hero-card">
        <div class="columns">
          <div class="feature">
            <div class="kicker">大六壬</div>
            <h3 style="margin:.2rem 0 .6rem">日時四課 · 三傳（教學版）</h3>
            <p class="muted">依公曆時間計算干支、時辰與五行生克，構建十二地支盤與教學版四課三傳（<em>算法公開、無隨機</em>）。</p>
          </div>
          <div class="feature">
            <div class="kicker">六爻</div>
            <h3 style="margin:.2rem 0 .6rem">本卦・變卦・互卦</h3>
            <p class="muted">支持老陰/老陽動爻，自動標記動爻位，展示上下卦與卦名。</p>
          </div>
          <div class="feature">
            <div class="kicker">周易</div>
            <h3 style="margin:.2rem 0 .6rem">卦象查閱</h3>
            <p class="muted">用三種方式查看卦象，輔以要點摘要與經典引文。</p>
          </div>
          <div class="feature">
            <div class="kicker">射覆</div>
            <h3 style="margin:.2rem 0 .6rem">物象推斷</h3>
            <p class="muted">八卦類象 × 五行特性 × 爻位結構，生成可操作的物品特徵清單。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Liu Ren -->
    <section id="liuren" class="card">
      <div class="kicker">大六壬</div>
      <h2>大六壬・天時地利推算（教學版四課三傳）</h2>
      <p class="muted">請輸入占卜時間（必填）。本版基於公曆換算日干支、時干支與五行生克，構建「十二支盤」與<strong>教學版</strong>四課三傳（透明可驗），僅作學習與演示。</p>
      <div class="hr"></div>

      <div class="help">
        <strong>算法要點（不隨機）：</strong>
        <ol>
          <li>以 <em>1984-02-02 甲子日</em> 為零點推算日干支；時支按兩小時一時計，時干依「甲己起甲、乙庚起丙、丙辛起戊、丁壬起庚、戊癸起壬」。</li>
          <li>四課（教學版）：①日干對日支；②日支對時干；③時干對時支；④日干對時支（呈現干支/五行關係）。</li>
          <li>三傳（教學版）：初傳取<em>時支</em>；中傳取<em>被初傳所生之五行</em>的最近地支；末傳取<em>能生扶日干五行</em>的最近地支。</li>
          <li>解讀：以五行生克為綱，描述「遞生／相剋／比和」格局與順逆勢（<em>非傳統斷訣替代</em>）。</li>
        </ol>
      </div>

      <form class="calc-form" id="liurenForm">
        <div class="form-group">
          <label for="lrDateTime">占卜時間</label>
          <input type="datetime-local" id="lrDateTime" class="input ring" required>
        </div>
        <div class="form-group">
          <label for="lrLocation">地點（可選）</label>
          <input type="text" id="lrLocation" class="input" placeholder="例如：北京 / London">
        </div>
        <div class="form-group">
          <label for="lrQuestion">占問事項（可選）</label>
          <textarea id="lrQuestion" class="textarea" rows="2" placeholder="簡要描述占問內容（如：工作面試、簽約、出行等）"></textarea>
        </div>
        <button type="submit" class="btn primary">計算大六壬</button>
      </form>

      <div id="liurenResult" class="result-area" style="display:none;">
        <h3>大六壬課式解析</h3>
        <div class="legend">
          <span class="pill">★ 高亮：三傳</span>
          <span class="pill">◎ 日支</span>
          <span class="pill">◇ 時支</span>
        </div>
        <div class="pan" id="pan"></div>

        <div class="interpretation">
          <h4>干支與四課</h4>
          <p id="lrFourLessons"></p>
        </div>

        <div class="interpretation">
          <h4>三傳與五行格局</h4>
          <p id="lrTrans"></p>
        </div>

        <div class="interpretation">
          <h4>綜合判讀</h4>
          <p id="lrJudgment"></p>
          <div class="classic-quote">
            <p id="lrQuote"></p>
            <cite id="lrSource"></cite>
          </div>
        </div>
      </div>
    </section>

    <!-- Liu Yao -->
    <section id="liuyao" class="card">
      <div class="kicker">六爻</div>
      <h2>六爻・本卦／變卦／互卦</h2>
      <p class="muted">請輸入爻象信息（自下而上）。系統僅做結構演算（本卦、之卦、互卦、上下卦、動爻），不替代具體納甲用神與日時斷法。</p>
      <div class="hr"></div>

      <div class="help">
        <strong>輸入規則：</strong>
        <ul>
          <li>6 = 老陰（--，變陽）　7 = 少陽（—，不變）</li>
          <li>8 = 少陰（--，不變）　9 = 老陽（—，變陰）</li>
        </ul>
      </div>

      <form class="calc-form" id="liuyaoForm">
        <div class="order">
          <span class="pill">輸入順序</span>
          <label><input type="radio" name="lyOrder" value="bottomup" checked> 下→上（初爻至上爻）</label>
        </div>

        <div class="line-inputs" id="lyInputs">
          <div class="line-row">
            <label for="line1">初爻（第一爻）</label>
            <select id="line1" class="line-select ly-line-select" required>
              <option value="">請選擇</option>
              <option value="7">7 少阳(—)</option>
              <option value="8">8 少阴(--)</option>
              <option value="9">9 老阳(动)—</option>
              <option value="6">6 老阴(动)--</option>
            </select>
          </div>
          <div class="line-row">
            <label for="line2">二爻</label>
            <select id="line2" class="line-select ly-line-select" required>
              <option value="">請選擇</option>
              <option value="7">7 少阳(—)</option>
              <option value="8">8 少阴(--)</option>
              <option value="9">9 老阳(动)—</option>
              <option value="6">6 老阴(动)--</option>
            </select>
          </div>
          <div class="line-row">
            <label for="line3">三爻</label>
            <select id="line3" class="line-select ly-line-select" required>
              <option value="">請選擇</option>
              <option value="7">7 少阳(—)</option>
              <option value="8">8 少阴(--)</option>
              <option value="9">9 老阳(动)—</option>
              <option value="6">6 老阴(动)--</option>
            </select>
          </div>
          <div class="line-row">
            <label for="line4">四爻</label>
            <select id="line4" class="line-select ly-line-select" required>
              <option value="">請選擇</option>
              <option value="7">7 少阳(—)</option>
              <option value="8">8 少阴(--)</option>
              <option value="9">9 老阳(动)—</option>
              <option value="6">6 老阴(动)--</option>
            </select>
          </div>
          <div class="line-row">
            <label for="line5">五爻</label>
            <select id="line5" class="line-select ly-line-select" required>
              <option value="">請選擇</option>
              <option value="7">7 少阳(—)</option>
              <option value="8">8 少阴(--)</option>
              <option value="9">9 老阳(动)—</option>
              <option value="6">6 老阴(动)--</option>
            </select>
          </div>
          <div class="line-row">
            <label for="line6">上爻（第六爻）</label>
            <select id="line6" class="line-select ly-line-select" required>
              <option value="">請選擇</option>
              <option value="7">7 少阳(—)</option>
              <option value="8">8 少阴(--)</option>
              <option value="9">9 老阳(动)—</option>
              <option value="6">6 老阴(动)--</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="lyQuestion">占問事項（可選）</label>
          <textarea id="lyQuestion" class="textarea" rows="2" placeholder="簡要描述占問內容"></textarea>
        </div>

        <button type="submit" class="btn primary">計算六爻卦象</button>
      </form>

      <div id="liuyaoResult" class="result-area" style="display:none;">
        <h3>六爻卦象解析</h3>

        <div class="yi">
          <div>
            <div class="hexbox">
              <div class="hex-title"><strong>本卦</strong><span class="tiny" id="lyBaseInfo"></span></div>
              <div id="lyBaseHex" class="hex"></div>
              <div class="tiny" id="lyBaseNames"></div>
            </div>
          </div>
          <div>
            <div class="hexbox">
              <div class="hex-title"><strong>之卦</strong><span class="tiny" id="lyChangedInfo"></span></div>
              <div id="lyChangedHex" class="hex"></div>
              <div class="tiny" id="lyChangedNames"></div>
            </div>
          </div>
        </div>

        <div class="yi" style="margin-top:12px;">
          <div>
            <div class="hexbox">
              <div class="hex-title"><strong>互卦</strong><span class="tiny" id="lyNuclearInfo"></span></div>
              <div id="lyNuclearHex" class="hex"></div>
              <div class="tiny" id="lyNuclearNames"></div>
            </div>
          </div>
          <div>
            <div class="interpretation">
              <h4>卦象解析</h4>
              <p id="lyAnalysis"></p>
              <div class="classic-quote">
                <p id="lyQuote"></p>
                <cite id="lySource"></cite>
              </div>
              <h4>動爻解析</h4>
              <p id="lyMoving"></p>
              <h4>綜合斷辭</h4>
              <p id="lyJudgment"></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Shefu -->
    <section id="shefu" class="card">
      <div class="kicker">射覆</div>
      <h2>射覆・物象推斷</h2>
      <p class="muted">請輸入卦象信息，系統按八卦類象、五行特性、爻位等進行分析（教學工具，不替代臨場取象）。</p>
      <div class="hr"></div>

      <div class="tabs">
        <div class="tab active" data-tab="input">卦象輸入</div>
        <div class="tab" data-tab="bagua">八卦類象</div>
        <div class="tab" data-tab="wuxing">五行特性</div>
        <div class="tab" data-tab="reference">參考表格</div>
      </div>

      <div class="tab-content active" id="tab-input">
        <form class="calc-form" id="shefuForm">
          <div class="form-group">
            <label for="sfUpper">上卦（代表顏色、外部特徵）</label>
            <select id="sfUpper" class="select" required></select>
          </div>

          <div class="form-group">
            <label for="sfLower">下卦（代表質地、內部特性）</label>
            <select id="sfLower" class="select" required></select>
          </div>

          <div class="form-group">
            <label for="sfMovingYao">動爻位置（可多選）</label>
            <select id="sfMovingYao" class="select" multiple>
              <option value="1">初爻</option>
              <option value="2">二爻</option>
              <option value="3">三爻</option>
              <option value="4">四爻</option>
              <option value="5">五爻</option>
              <option value="6">上爻</option>
            </select>
            <div class="tiny">按住Ctrl/⌘鍵可多選</div>
          </div>

          <div class="form-group">
            <label for="sfDateTime">占卜時間</label>
            <input type="datetime-local" id="sfDateTime" class="input">
          </div>

          <div class="form-group">
            <label for="sfWaiying">外應信息（可選）</label>
            <textarea id="sfWaiying" class="textarea" rows="2" placeholder="當時看到、聽到、感受到的特殊現象"></textarea>
          </div>

          <button type="submit" class="btn primary">進行物象推斷</button>
        </form>

        <div id="shefuResult" class="result-area" style="display:none;">
          <h3>射覆推斷結果</h3>

          <div class="interpretation">
            <h4>八卦類象分析</h4>
            <p id="sfBaguaAnalysis"></p>
          </div>

          <div class="interpretation">
            <h4>五行特性分析</h4>
            <p id="sfWuxingAnalysis"></p>
          </div>

          <div class="interpretation">
            <h4>卦名爻位分析</h4>
            <p id="sfYaoAnalysis"></p>
          </div>

          <div class="interpretation">
            <h4>全卦綜合分析</h4>
            <p id="sfCompleteAnalysis"></p>
          </div>

          <div class="interpretation">
            <h4>時間旺衰分析</h4>
            <p id="sfTimeAnalysis"></p>
          </div>

          <div class="interpretation">
            <h4>外應提示</h4>
            <p id="sfWaiyingAnalysis"></p>
          </div>

          <div class="interpretation">
            <h4>推斷結論</h4>
            <p id="sfJudgment"></p>
            <div class="classic-quote">
              <p id="sfQuote"></p>
              <cite id="sfSource"></cite>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-content" id="tab-bagua">
        <h3>八卦類象參考</h3>
        <div id="baguaTableWrap"></div>
      </div>

      <div class="tab-content" id="tab-wuxing">
        <h3>五行特性參考</h3>
        <div id="wuxingTableWrap"></div>
      </div>

      <div class="tab-content" id="tab-reference">
        <h3>其他參考信息</h3>

        <h4>卦象旺衰表</h4>
        <table class="reference-table">
          <thead>
            <tr>
              <th>卦象</th>
              <th>旺時特性</th>
              <th>衰時特性</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>乾 ☰ 金</td><td>貴重、剛健、圓滿</td><td>剛愎、冷硬、過剛易折</td></tr>
            <tr><td>坤 ☷ 土</td><td>厚重、承載、滋養</td><td>遲滯、笨重、缺乏活力</td></tr>
            <tr><td>震 ☳ 木</td><td>活躍、生長、創新</td><td>動盪、不安、缺乏穩定</td></tr>
            <tr><td>巽 ☴ 木</td><td>靈活、順應、溝通</td><td>無主見、隨波逐流、軟弱</td></tr>
            <tr><td>坎 ☵ 水</td><td>智慧、流動、適應</td><td>險陷、陰暗、不定</td></tr>
            <tr><td>离 ☲ 火</td><td>光明、熱情、文化</td><td>虛榮、浮躁、易滅</td></tr>
            <tr><td>艮 ☶ 土</td><td>穩定、靜止、堅實</td><td>停滯、保守、阻礙</td></tr>
            <tr><td>兑 ☱ 金</td><td>喜悅、溝通、銳利</td><td>口舌、毀折、淺薄</td></tr>
          </tbody>
        </table>

        <h4>爻位類象表</h4>
        <table class="reference-table">
          <thead>
            <tr><th>爻位</th><th>代表意義</th><th>物品部位</th></tr>
          </thead>
          <tbody id="yaoTableBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Zhouyi -->
    <section id="zhouyi" class="card">
      <div class="kicker">周易</div>
      <h2>周易・卦象查閱（靜態查閱，不隨機起卦）</h2>
      <p class="muted">可按三種方式查閱：①輸入六爻；②選擇上下卦；③直接選卦名稱。顯示卦象結構、上下卦、互卦與簡要要點。</p>
      <div class="hr"></div>

      <div class="tabs">
        <div class="tab active" data-tab="zy-by-lines">六爻輸入</div>
        <div class="tab" data-tab="zy-by-tri">上下卦選擇</div>
        <div class="tab" data-tab="zy-by-name">直接選卦</div>
      </div>

      <div class="tab-content active" id="tab-zy-by-lines">
        <form class="calc-form" id="zyLinesForm">
          <div class="line-inputs" id="zyLineInputs"></div>
          <button type="submit" class="btn primary">生成卦象</button>
        </form>
      </div>

      <div class="tab-content" id="tab-zy-by-tri">
        <form class="calc-form" id="zyTriForm">
          <div class="form-group">
            <label for="zyUpperTri">上卦</label>
            <select id="zyUpperTri" class="select"></select>
          </div>
          <div class="form-group">
            <label for="zyLowerTri">下卦</label>
            <select id="zyLowerTri" class="select"></select>
          </div>
          <button type="submit" class="btn primary">生成卦象</button>
        </form>
      </div>

      <div class="tab-content" id="tab-zy-by-name">
        <form class="calc-form" id="zyNameForm">
          <div class="form-group">
            <label for="zyNameSelect">選擇卦名</label>
            <select id="zyNameSelect" class="select"></select>
          </div>
          <button type="submit" class="btn primary">顯示卦象</button>
        </form>
      </div>

      <div id="zhouyiResult" class="result-area" style="display:none;">
        <h3 id="zyTitle">卦象</h3>
        <div class="yi">
          <div>
            <div class="hexbox">
              <div class="hex-title"><strong id="zyHexName"></strong><span class="tiny" id="zyInfo"></span></div>
              <div id="zyHex" class="hex"></div>
              <div class="tiny" id="zyNames"></div>
            </div>
          </div>
          <div>
            <div class="hexbox">
              <div class="hex-title"><strong>互卦</strong><span class="tiny" id="zyNuclearInfo"></span></div>
              <div id="zyNuclearHex" class="hex"></div>
              <div class="tiny" id="zyNuclearNames"></div>
            </div>
          </div>
        </div>
        <div class="interpretation">
          <h4>要點</h4>
          <p id="zySummary"></p>
          <div class="classic-quote">
            <p id="zyQuote"></p>
            <cite id="zySource"></cite>
          </div>
        </div>
      </div>
    </section>

    <!-- Glossary -->
    <section id="gloss" class="card">
      <div class="kicker">術語 / Glossary</div>
      <h2>術數專業詞彙</h2>
      <div class="columns">
        <div class="feature">
          <h3>大六壬術語（教學版對應）</h3>
          <p class="muted"><strong>干支</strong>：天干與地支之配合，60日一循環。</p>
          <p class="muted"><strong>四課</strong>：此版以日干/日支/時干/時支四對，呈現五行關係。</p>
          <p class="muted"><strong>三傳</strong>：初傳（時支）—中傳（生初傳者）—末傳（生扶日干者）。</p>
        </div>
        <div class="feature">
          <h3>六爻術語</h3>
          <p class="muted"><strong>本卦</strong>：原始六爻卦。</p>
          <p class="muted"><strong>變卦</strong>：動爻互易陰陽後所得卦。</p>
          <p class="muted"><strong>互卦</strong>：由第2~4、3~5爻組合成的中間之卦。</p>
        </div>
        <div class="feature">
          <h3>射覆術語</h3>
          <p class="muted"><strong>八卦類象</strong>：按八卦特性映射自然、人事、物品等類別。</p>
          <p class="muted"><strong>五行特性</strong>：金木水火土五類之性質與對應物。</p>
          <p class="muted"><strong>外應</strong>：占時環境異常現象，可輔助推斷。</p>
        </div>
      </div>
    </section>

    <!-- Resources -->
    <section id="resources" class="card">
      <div class="kicker">典籍 / Resources</div>
      <h2>參考典籍與文獻</h2>
      <div class="columns">
        <div class="feature">
          <h3>大六壬典籍</h3>
          <ul class="muted">
            <li>《六壬大全》· 明代·郭載騋</li>
            <li>《壬歸》· 清代·佚名</li>
            <li>《大六壬指南》· 清代·陳公獻</li>
            <li>《六壬斷案》· 宋代·邵彥和</li>
          </ul>
        </div>
        <div class="feature">
          <h3>六爻/周易典籍</h3>
          <ul class="muted">
            <li>《周易》· 周代·多人著作</li>
            <li>《易林》· 漢代·焦贛</li>
            <li>《周易集解》· 唐代·李鼎祚</li>
            <li>《周易本義》· 宋代·朱熹</li>
          </ul>
        </div>
        <div class="feature">
          <h3>射覆與物象</h3>
          <ul class="muted">
            <li>《梅花易數》· 宋代·邵雍</li>
            <li>《五行大義》· 隋代·蕭吉</li>
            <li>《清類天文分野之書》· 明代·劉基</li>
            <li>《三才圖會》· 明代·王圻</li>
          </ul>
        </div>
      </div>
    </section>

    <footer>
      <div>© <span id="year"></span> 術數專業計算平台 · 大六壬 × 六爻 × 射覆 × 周易</div>
      <div class="foot-links"><a href="#">返回頂部</a><span>·</span><a href="#gloss">術語</a><span>·</span><a href="#resources">典籍</a></div>
    </footer>
  </main>

  <script src="app.js"></script>
</body>
</html>
